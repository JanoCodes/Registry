.row
  .col-sm-6
    %h2.text-center-xs= t('shared.domains')
  .col-sm-6
    %h2.text-right.text-center-xs
      = link_to(t('shared.create_new_domain'), new_client_domain_path, class: 'btn btn-primary')
%hr
.row
  .col-md-12
    = search_form_for [:client, @q], html: { class: 'form-horizontal' } do |f|
      .col-md-11
        .form-group
          = f.search_field :name_cont, class: 'form-control'
      .col-md-1.text-right.text-center-xs
        .form-group
          %button.btn.btn-primary
            &nbsp;
            %span.glyphicon.glyphicon-search
            &nbsp;
%hr
.row
  .col-md-12
    .table-responsive
      %table.table.table-hover.table-bordered.table-condensed
        %thead
          %tr
            %th{class: 'col-xs-2'}
              = sort_link(@q, 'name')
            %th{class: 'col-xs-2'}
              = sort_link(@q, 'owner_contact_name', t('shared.owner'))
            %th{class: 'col-xs-2'}
              = sort_link(@q, 'valid_to', t('shared.valid_to'))
            %th{class: 'col-xs-1'}
        %tbody
          - @domains.each do |x|
            %tr
              %td= link_to(x, client_domain_path(x))
              %td= link_to(x.owner_contact, [:client, x.owner_contact])
              %td= l(x.valid_to, format: :short)
              %td= link_to t('shared.history'), client_domain_version_path(x.id), class: 'btn btn-primary'
.row
  .col-md-12
    = paginate @domains

