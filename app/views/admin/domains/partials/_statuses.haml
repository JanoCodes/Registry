- panel_class = @domain.errors.messages[:domain_statuses] ? 'panel-danger' : 'panel-default'
.panel{class: panel_class}
  .panel-heading.clearfix
    .pull-left
      = t('shared.statuses')
    .pull-right
      = link_to(t('shared.add'), new_admin_domain_domain_status_path(@domain), class: 'btn btn-primary btn-xs')
  .table-responsive
    %table.table.table-hover.table-bordered.table-condensed
      %thead
        %tr
          %th{class: 'col-xs-4'}= t('shared.status')
          %th{class: 'col-xs-5'}= t('shared.description')
          %th{class: 'col-xs-3'}= t('shared.action')
      %tbody
        - @domain.domain_statuses.each do |x|
          %tr
            %td= x.value
            %td= x.description
            %td
              = link_to(t('shared.edit'), edit_admin_domain_domain_status_path(@domain, x), class: 'btn btn-primary btn-xs')
              = link_to(t('shared.delete'), admin_domain_domain_status_path(@domain, x), method: :delete, data: { confirm: t('shared.are_you_sure') }, class: 'btn btn-danger btn-xs')
      - if @domain.errors.messages[:domain_statuses]
        %tfoot
          - @domain.errors.messages[:domain_statuses].each do |x|
            %tr
              %td{colspan: 4}= x
